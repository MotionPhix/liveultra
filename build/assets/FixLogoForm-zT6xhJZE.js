import{f as U,r as u,T as C,a8 as E,a as c,g as B,w as n,e,b as r,c as g,i as M,d as o,k as i,v as S}from"./app-DmIf2hag.js";import{V as D,p as I,a as N,b as P}from"./vue-filepond.esm-Blpi4Iqd.js";import{v as _}from"./MazInput-Bh4h0r_b-DdTcKV2-.js";import{G as $}from"./MazPhoneNumberInput-D9jYdzsz-D2deA1hU.js";import{P as y}from"./MazBtn-Db9bWwr8-BXMMD6UX.js";import{_ as p}from"./InputError.vue_vue_type_script_setup_true_lang-llwGMIzL.js";import{_ as A}from"./PreTap.vue_vue_type_style_index_0_lang-BXR1NpZm.js";import{_ as m}from"./InputLabel.vue_vue_type_script_setup_true_lang-CVCT5VCK.js";import{I as L}from"./IconArrowLeft-DyKuVz5g.js";import{c as T}from"./createVueComponent-Da9bORDl.js";import{t as q}from"./toast-5mgLi9pE.js";/* empty css               *//**
 * @license @tabler/icons-vue v3.14.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var G=T("outline","arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]);const W={class:"w-full mx-auto"},Z={class:"mb-8 text-2xl font-bold"},j={key:0},R={key:1},H={key:0},J={class:"grid grid-cols-1 gap-2 sm:grid-cols-2"},K={class:"mb-4"},O={class:"mb-4"},Q={class:"grid grid-cols-1 gap-2 sm:grid-cols-2"},X={class:"mb-4"},Y={class:"mb-4"},ee={class:"flex justify-end mt-4"},oe={key:1},se={class:"mb-4"},le={class:"mb-4"},te={class:"flex items-center justify-between mt-4"},ve=U({__name:"FixLogoForm",setup(ae){const x=D(P,N,I),f=u(null),v=u(),h=u(),d=u(1),s=C({name:"",email:"",description:"",phone:"",company:"",logo:null}),b=u("MW"),V=()=>{s.transform(l=>{var t,k;return{...l,logo:(k=(t=f.value)==null?void 0:t.getFile())==null?void 0:k.file}}).post(route("upload-my-logo"),{preserveScroll:!0,onSuccess:()=>{var l;s.reset(),(l=f.value)==null||l.removeFiles(),h.value.resetEditorContent(),v.value.close()}})},z=l=>{s.logo=l},w=()=>{d.value===1&&s.post(route("upload-my-logo"),{preserveScroll:!0,onError:l=>{l.name||l.phone||l.email?q.add({type:"danger",title:"Fix Errors",message:l.name??l.phone??l.email}):(s.clearErrors(),d.value=2)}})},F=()=>{d.value=1};return E(()=>{var l;(l=f.value)==null||l.destroy,d.value=1}),(l,a)=>(c(),B(e(S),{"max-width":"xl",position:"top","panel-classes":"dark:text-neutral-100 bg-gray-100 rounded-lg dark:bg-neutral-600",ref_key:"logoFix",ref:v},{default:n(()=>[r("div",W,[r("h1",Z,[d.value===1?(c(),g("span",j," Let's get to know you. ")):(c(),g("span",R," Upload your pixelated logo. "))]),r("form",{onSubmit:M(V,["prevent"])},[d.value===1?(c(),g("div",H,[r("section",J,[r("div",K,[o(m,{class:"mb-2"},{default:n(()=>[i(" Full Name ")]),_:1}),o(e(_),{modelValue:e(s).name,"onUpdate:modelValue":a[0]||(a[0]=t=>e(s).name=t),placeholder:"Enter your full name","rounded-size":"md",type:"text",size:"lg",required:"",block:""},null,8,["modelValue"]),o(p,{message:e(s).errors.name},null,8,["message"])]),r("div",O,[o(m,{class:"mb-2"},{default:n(()=>[i(" Company ")]),_:1}),o(e(_),{modelValue:e(s).company,"onUpdate:modelValue":a[1]||(a[1]=t=>e(s).company=t),placeholder:"Enter your company name","rounded-size":"md",type:"text",size:"lg",block:""},null,8,["modelValue"])])]),r("section",Q,[r("div",X,[o(m,{class:"mb-2"},{default:n(()=>[i(" Phone ")]),_:1}),o(e($),{"show-code-on-list":!1,modelValue:e(s).phone,"onUpdate:modelValue":a[2]||(a[2]=t=>e(s).phone=t),"country-code":b.value,"onUpdate:countryCode":a[3]||(a[3]=t=>b.value=t),placeholder:"Enter your phone",orientation:"responsive","preferred-countries":["MW","ZM","ZA","ZW","GB","US"],"no-country-selector":"","rounded-size":"md","no-example":"",size:"lg",required:"",block:""},null,8,["modelValue","country-code"]),o(p,{message:e(s).errors.phone},null,8,["message"])]),r("div",Y,[o(m,{class:"mb-2"},{default:n(()=>[i(" Email ")]),_:1}),o(e(_),{modelValue:e(s).email,"onUpdate:modelValue":a[4]||(a[4]=t=>e(s).email=t),placeholder:"Enter your email address","rounded-size":"md",type:"email",size:"lg",required:"",block:""},null,8,["modelValue"]),o(p,{message:e(s).errors.email},null,8,["message"])])]),r("div",ee,[o(e(y),{type:"button",onClick:w,color:"primary",size:"sm","rounded-size":"md",pastel:""},{"right-icon":n(()=>[o(e(G),{class:"size-6"})]),default:n(()=>[i(" Next ")]),_:1})])])):(c(),g("div",oe,[r("div",se,[o(m,{class:"mb-2"},{default:n(()=>[i(" Upload Logo ")]),_:1}),o(e(x),{name:"Client logo",ref_key:"logoFile",ref:f,"max-file-size":"2MB",credits:"false","accepted-file-types":"image/*","label-idle":"Drop your logo image here...","allow-multiple":!1,"allow-mage-preview":!0,"image-preview-max-height":150,onUpdatefiles:z},null,512),o(p,{message:e(s).errors.logo},null,8,["message"])]),r("div",le,[o(m,{class:"mb-2"},{default:n(()=>[i(" Description ")]),_:1}),o(A,{modelValue:e(s).description,"onUpdate:modelValue":a[5]||(a[5]=t=>e(s).description=t),placeholder:"Describe your logo and desired output","custom-height":"h-40",ref_key:"tipTap",ref:h},null,8,["modelValue"]),o(p,{message:e(s).errors.description},null,8,["message"])]),r("div",te,[o(e(y),{onClick:F,"rounded-size":"md",color:"primary",size:"sm",pastel:""},{"left-icon":n(()=>[o(e(L),{class:"size-6"})]),default:n(()=>[i(" Back ")]),_:1}),o(e(y),{type:"submit","rounded-size":"md",color:"success",size:"md"},{default:n(()=>[i(" Upload ")]),_:1})])]))],32)])]),_:1},512))}});export{ve as default};
