import{_ as O,N as A,I as D}from"./Navheader-BbVXWxoX.js";import{r as I,l as J,m as T,n as P,p as b,a as s,c as d,b as e,f as k,s as z,e as o,g as _,w as p,d as a,k as $,j as f,h as x,F as j,q as N,x as W,t as y,y as S,z as Y,A as q,Z as G}from"./app-DmIf2hag.js";import{I as L}from"./IconPencil-eAZyNvau.js";import{I as M}from"./IconTrash-VJePhJJa.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as R}from"./createVueComponent-Da9bORDl.js";import{W as H}from"./MazCheckbox-DeAr4yft.js";import"./index-CykH1wNr.js";import"./Footnote-3dU8ZebM.js";import"./toast-5mgLi9pE.js";/* empty css                    *//**
 * @license @tabler/icons-vue v3.14.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var K=R("outline","file-export","IconFileExport",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M11.5 21h-4.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v5m-5 6h7m-3 -3l3 3l-3 3",key:"svg-1"}]]);function Q(r,t){const l=I(t),c=window.localStorage.getItem(r);c&&(l.value=JSON.parse(c));function m(u){u.key===r&&(l.value=JSON.parse(u.newValue||"null"))}return window.addEventListener("storage",m),J(()=>window.removeEventListener("storage",m)),T(l,u=>window.localStorage.setItem(r,JSON.stringify(u)),{deep:!0}),l}const B=P("contacts",()=>{const r=I([]),t=Q("active_contact");async function l(h=""){const n=await b.get(h.length?`/${h}`:"/");t.value=n.data}async function c(h){await b.post(route("contacts.store"),h).catch(n=>{console.log(n)}).then(async n=>{console.log(n==null?void 0:n.data)})}async function m(h){await b.put(route("contacts.update",{contact:h.cid})).catch(n=>console.log(n)).then(async n=>{console.log(n==null?void 0:n.data)})}function u(h){h.length||console.log("Yalakwa"),r.value.push(h)}function v(h){r.value=r.value.filter(n=>n!==h)}function C(){r.value=[]}return{contacts:t,selectedContacts:r,selectContact:u,unselectContact:v,updateContact:m,storeContact:c,fetchContacts:l,resetSelectedContacts:C}}),U={},X={viewBox:"0 0 500 500",xmlns:"http://www.w3.org/2000/svg"},tt=e("path",{d:"M 250.002 21.467 C 189.374 21.467 140.217 70.625 140.217 131.25 C 140.217 191.875 189.374 241.032 250.002 241.032 C 310.649 241.032 359.783 191.875 359.783 131.25 C 359.783 70.625 310.649 21.467 250.002 21.467 Z",style:{fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},"stroke-width":"2.5em",stroke:"currentColor",transform:"matrix(0.9999999999999999, 0, 0, 0.9999999999999999, 0, 0)"},null,-1),et=e("path",{d:"M 359.772 295.564 L 140.206 295.564 C 115.029 295.564 91.121 306.468 76.702 324.081 C 61.556 342.648 57.358 368.681 73.702 392.855 C 108.759 444.672 176.092 478.533 249.991 478.533 C 323.908 478.533 391.241 444.672 426.3 392.855 C 442.644 368.681 438.447 342.648 423.275 324.081 C 408.881 306.468 384.972 295.564 359.772 295.564 Z",style:{fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},"stroke-width":"2.5em",stroke:"currentColor",transform:"matrix(0.9999999999999999, 0, 0, 0.9999999999999999, 0, 0)"},null,-1),ot=[tt,et];function st(r,t){return s(),d("svg",X,ot)}const F=V(U,[["render",st]]),nt={key:0,class:"flex items-center w-full gap-6 dark:text-white dark:border-gray-700"},rt={class:"flex items-center text-xl gap-2 dark:text-gray-300"},at=e("span",null,"Add new",-1),ct={key:1,class:"text-xl font-semibold dark:text-gray-300 sm:inline-block"},lt={key:1,class:"flex items-center w-full gap-6 dark:text-white dark:border-gray-700"},it=e("span",{class:"hidden md:inline-flex"},"Edit",-1),dt=e("span",{class:"hidden md:inline-flex"},"Delete",-1),ut=k({__name:"ContactActionMenu",props:{contacts:{}},setup(r){const t=r,l=B(),{selectedContacts:c}=z(l);return(m,u)=>(s(),d(j,null,[o(c).length?x("",!0):(s(),d("nav",nt,[t.contacts.length?(s(),_(o(f),{key:0,as:"button",href:m.route("auth.customer.create"),class:"py-1.5 font-semibold transition duration-300 hover:opacity-70"},{default:p(()=>[e("h2",rt,[a(F,{class:"size-6"}),$(),at])]),_:1},8,["href"])):(s(),d("h2",ct," Explore customers "))])),o(c).length&&Object.keys(t.contacts).length?(s(),d("nav",lt,[o(c).length===1&&m.$page.url==="/auth/customers"?(s(),_(o(f),{key:0,as:"button",href:m.route("auth.customer.edit",o(c)[0]),class:"flex items-center gap-2 py-2 font-semibold transition duration-300 hover:opacity-70"},{default:p(()=>[a(o(L),{class:"w-5 h-5 stroke-current"}),$(),it]),_:1},8,["href"])):x("",!0),a(o(f),{as:"button",method:"delete",href:m.route("auth.customer.index",{ids:o(c)}),class:"flex items-center gap-2 py-2 font-semibold transition duration-300 hover:opacity-70"},{default:p(()=>[a(o(M),{class:"w-5 h-5 stroke-current"}),$(),dt]),_:1},8,["href"])])):x("",!0)],64))}}),ht={key:0,class:"transition duration-300 empty:hidden group-hover:hidden"},mt={class:"flex-1 min-w-0"},pt={class:"flex items-center gap-2 text-xl font-medium text-gray-900 truncate text-balance dark:text-white"},ft={key:0,class:"block text-sm font-thin text-gray-500 truncate dark:text-gray-500"},_t={class:"absolute z-20 items-center justify-end hidden gap-2 px-2 py-1 bg-gray-300 rounded cursor-pointer group-hover:flex dark:bg-neutral-700 bottom-2 right-2"},gt={class:"items-center p-0.5 flex text-gray-500 transition duration-300 hover:text-green-500 dark:text-gray-400"},xt={class:"flex items-center p-0.5 text-gray-500 transition hover:text-green-500 duration-00 dark:text-gray-400"},yt={class:"flex items-center rounded-lg p-0.5 text-gray-500 transition hover:text-green-500 duration-00 dark:text-gray-400"},kt=k({__name:"ContactGridCard",props:{contact:{}},setup(r){const t=r,l=B(),c=N(()=>{var i,g;return`${(i=t.contact)==null?void 0:i.first_name} ${(g=t.contact)==null?void 0:g.last_name}`}),m=N(()=>route().params),{selectedContacts:u}=z(l),{selectContact:v,unselectContact:C,resetSelectedContacts:h}=l;function n(i){return u.value.includes(i)}function Z(i){n(i)?C(i):v(i)}return W.on("navigate",i=>{i.detail.page.component!=="Component/Compose"&&u.value.length>0&&h()}),(i,g)=>(s(),d("li",{class:S(["relative flex px-4 py-3 transition duration-300 ease-in-out border border-gray-300 rounded-xl dark:border-gray-700 sm:py-4 hover:bg-gray-200 dark:hover:bg-gray-800 group",{"bg-gray-300 dark:bg-gray-700":t.contact.cid===m.value.contact}])},[e("div",{class:S(["absolute z-20 flex items-center justify-center flex-shrink-0 w-10 h-10 font-semibold transition duration-300 rounded-full cursor-pointer hover:bg-transparent group",o(u).length?"":"bg-lime-500 text-lime-900"])},[o(u).length?x("",!0):(s(),d("span",ht,y(`${t.contact.first_name[0]}${t.contact.last_name[0]}`),1)),e("span",{class:S(["ml-2 transition duration-300 group-hover:inline-flex",o(u).length?"flex":"hidden"])},[a(o(H),{onClick:g[0]||(g[0]=w=>Z(t.contact.cid)),checked:n(t.contact.cid),color:"success"},null,8,["checked"])],2)],2),a(o(f),{class:"flex items-center w-full gap-6 pl-16 text-left",href:i.route("auth.customer.edit",t.contact.cid),as:"button","preserve-scroll":""},{default:p(()=>{var w,E;return[e("div",mt,[e("p",pt,[e("span",null,y(c.value),1)]),(w=t.contact)!=null&&w.job_title?(s(),d("strong",ft,y((E=t.contact)==null?void 0:E.job_title),1)):x("",!0)])]}),_:1},8,["href"]),e("div",_t,[e("p",gt,[a(o(f),{as:"button",href:i.route("auth.projects.create",{customer:t.contact.cid})},{default:p(()=>[a(o(K),{stroke:"2.5",class:"size-5"})]),_:1},8,["href"])]),e("p",xt,[a(o(f),{as:"button",href:i.route("auth.customer.edit",t.contact.cid)},{default:p(()=>[a(o(L),{stroke:"2.5",class:"size-5"})]),_:1},8,["href"])]),e("p",yt,[a(o(f),{as:"button",method:"delete",href:i.route("auth.customer.destroy",t.contact.cid)},{default:p(()=>[a(o(M),{stroke:"2.5",class:"size-5"})]),_:1},8,["href"])])])],2))}}),vt={},Ct={viewBox:"0 0 500 500",width:"500",height:"500",xmlns:"http://www.w3.org/2000/svg"},wt=e("path",{d:"M 231.18 227.82 C 292.422 227.82 342.076 178.168 342.076 116.925 C 342.076 55.68 292.422 6.028 231.18 6.028 C 169.936 6.028 120.283 55.68 120.283 116.925 C 120.283 178.168 169.936 227.82 231.18 227.82 Z","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round",fill:"currentColor"},null,-1),bt=e("path",{d:"M 364.255 316.537 C 413.255 316.537 453.977 359.271 426.534 399.843 C 388.71 455.734 314.513 493.972 231.18 493.972 C 147.874 493.972 73.648 455.734 35.853 399.843 C 8.381 359.271 49.103 316.537 98.104 316.537 L 364.255 316.537 Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",fill:"currentColor"},null,-1),$t=e("line",{class:"st0",x1:"393.073",y1:"213.612",x2:"473.016",y2:"213.612",style:{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10"},"stroke-width":"3em",stroke:"currentColor"},null,-1),St=e("line",{class:"st0",x1:"389.259",y1:"263.764",x2:"435.892",y2:"263.764",style:{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10"},"stroke-width":"3em",stroke:"currentColor"},null,-1),jt=[wt,bt,$t,St];function Nt(r,t){return s(),d("svg",Ct,jt)}const Et=V(vt,[["render",Nt]]),It={class:"flex flex-col items-center gap-3"},zt={class:"mt-6 text-xl font-semibold leading-none text-center text-gray-500"},Lt={class:"text-sm text-center text-gray-500"},Mt=k({__name:"NoContactFound",setup(r){const t=N(()=>({title:"contacts",description:"You haven't added any contacts yet."}));return(l,c)=>(s(),d("div",It,[l.$page.url.startsWith("/g")?(s(),_(Et,{key:0,class:"w-48 h-48 text-gray-400","stroke-width":"1"})):(s(),_(F,{key:1,class:"w-48 h-48 text-gray-400","stroke-width":"1"})),e("h2",zt," No "+y(t.value.title)+" found! ",1),e("p",Lt,y(t.value.description),1),Y(l.$slots,"default")]))}}),Vt={key:1,class:"text-xl font-semibold dark:text-gray-300 sm:inline-block"},Bt={class:"max-w-2xl px-4 py-12 mx-auto"},Ft={key:0},Zt={role:"list",class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Ot={key:1,class:"w-full py-12 mt-12"},At=e("span",null,"Create customer",-1),Qt=k({layout:O,__name:"Index",props:{customers:{}},setup(r){return(t,l)=>(s(),d(j,null,[a(o(G),{title:"Explore customers"}),a(A,null,{default:p(()=>[t.customers.length?(s(),_(ut,{key:0,contacts:t.customers},null,8,["contacts"])):(s(),d("h2",Vt," Explore customers "))]),_:1}),e("article",Bt,[t.customers.length?(s(),d("section",Ft,[e("ul",Zt,[(s(!0),d(j,null,q(t.customers,c=>(s(),_(kt,{key:c.cid,contact:c},null,8,["contact"]))),128))])])):(s(),d("section",Ot,[a(Mt,null,{default:p(()=>[e("div",null,[a(o(f),{href:t.route("auth.customer.create"),class:"flex gap-2 items-center text-gray-500 border-gray-500 border hover:border-gray-900 rounded-lg dark:border-slate-600 dark:text-gray-500 font-semibold my-4 px-3 py-1.5 dark:hover:text-gray-400 dark:hover:border-gray-400 hover:text-gray-900 transition duration-300",as:"button"},{default:p(()=>[a(o(D),{class:"w-5 h-5","stroke-width":"3.5"}),At]),_:1},8,["href"])])]),_:1})]))])],64))}});export{Qt as default};
