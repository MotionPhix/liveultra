import{u as h,Q as k,o as v,a as c,c as p,b as t,t as g,d as r,e as s,f as V,T as z,w as x,F as $,Z as w,g as j,h as U,i as E,j as S,k as C}from"./app-DmIf2hag.js";import{_ as i}from"./InputError.vue_vue_type_script_setup_true_lang-llwGMIzL.js";import{v as u}from"./MazInput-Bh4h0r_b-DdTcKV2-.js";import{S as N}from"./Spinner-CI3UDSQM.js";import{_ as M,N as B,I as F}from"./Navheader-BbVXWxoX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CykH1wNr.js";import"./Footnote-3dU8ZebM.js";import"./createVueComponent-Da9bORDl.js";import"./toast-5mgLi9pE.js";const T={class:"relative space-y-2 group first-letter:uppercase"},I={class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},D={class:"grid grid-cols-2 gap-6"},A={class:"col-span-2 sm:col-span-1"},J={class:"col-span-2 sm:col-span-1"},P={class:"col-span-2 sm:col-span-1"},Q={class:"col-span-2 sm:col-span-1"},Z={__name:"AddressInput",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(_){const o=h(_,"modelValue"),l=k();return v(()=>{o.value.street||(o.value={street:"",city:"",state:"",country:""})}),(f,m)=>(c(),p("div",T,[t("label",I,g(o.value.type)+" address ",1),t("section",D,[t("div",A,[r(s(u),{type:"text",modelValue:o.value.street,"onUpdate:modelValue":m[0]||(m[0]=d=>o.value.street=d),placeholder:"Enter street name","rounded-size":"md",size:"lg",block:""},null,8,["modelValue"]),r(i,{message:s(l).props.errors["address.street"]},null,8,["message"])]),t("div",J,[r(s(u),{type:"text",modelValue:o.value.city,"onUpdate:modelValue":m[1]||(m[1]=d=>o.value.city=d),placeholder:"Enter city name","rounded-size":"md",size:"lg",block:""},null,8,["modelValue"]),r(i,{message:s(l).props.errors["address.city"]},null,8,["message"])]),t("div",P,[r(s(u),{type:"text",modelValue:o.value.state,"onUpdate:modelValue":m[2]||(m[2]=d=>o.value.state=d),placeholder:"Enter state/region name","rounded-size":"md",size:"lg",block:""},null,8,["modelValue"]),r(i,{message:s(l).props.errors["address.state"]},null,8,["message"])]),t("div",Q,[r(s(u),{type:"text",modelValue:o.value.country,"onUpdate:modelValue":m[3]||(m[3]=d=>o.value.country=d),placeholder:"Enter country name","rounded-size":"md",size:"lg",block:""},null,8,["modelValue"]),r(i,{message:s(l).props.errors["address.country"]},null,8,["message"])])]),r(i,{message:s(l).props.errors["address.type"]},null,8,["message"])]))}},q={class:"text-xl font-semibold dark:text-gray-300 sm:inline-block"},G={key:0,class:"hidden sm:inline-flex"},H={key:1,class:"hidden sm:inline-flex"},K=t("span",{class:"flex-1"},null,-1),L=["disabled"],O={class:"w-full max-w-2xl px-4 py-10 mx-auto md:pt-16 sm:px-6 lg:px-8"},R={class:"flex flex-col w-full gap-6 md:mx-auto"},W=t("div",{class:"mb-8"},[t("h2",{class:"text-xl font-bold text-gray-800 dark:text-gray-200"}," Customer profile "),t("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Manage customer information, and company. ")],-1),X={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},Y=t("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," First name ",-1),ee=t("label",{for:"last_name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," Surname ",-1),se={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},te=t("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," Company ",-1),oe=t("label",{for:"job_title",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," Job title ",-1),le={class:"col-span-1 sm:col-span-2"},_e=V({layout:M,__name:"Form",props:{customer:{}},setup(_){var m,d,y,b;const o=_,l=z({first_name:o.customer.first_name,last_name:o.customer.last_name,job_title:o.customer.job_title??"",company_name:o.customer.company_name??"",address:{city:((m=o.customer.address)==null?void 0:m.city)??"",street:((d=o.customer.address)==null?void 0:d.street)??"",state:((y=o.customer.address)==null?void 0:y.state)??"",country:((b=o.customer.address)==null?void 0:b.country)??""}});function f(){if(l.transform(e=>{var n;let a={first_name:e.first_name,last_name:e.last_name,job_title:e.job_title,company_name:e.company_name};return e!=null&&e.job_title&&(a.job_title=e==null?void 0:e.job_title),e.company_name&&(a.company_name=e.company_name),(n=e==null?void 0:e.address)!=null&&n.city&&(a.address=e==null?void 0:e.address),a}),o.customer.cid){l.patch(route("auth.customer.update",o.customer.cid),{preserveScroll:!0,onSuccess:()=>{l.reset()}});return}l.post(route("auth.customer.store"),{preserveScroll:!0,onSuccess:()=>{l.reset()}})}return(e,a)=>(c(),p($,null,[r(s(w),{title:o.customer.cid?`Edit ${e.customer.first_name} ${e.customer.last_name}`:"New customer"},null,8,["title"]),r(B,null,{default:x(()=>[t("h2",q,[t("span",null,g(e.customer.cid?"Editing ":"New "),1),e.customer.cid?(c(),p("span",G,g(`${e.customer.first_name} ${e.customer.last_name}`),1)):(c(),p("span",H," customer "))]),K,t("button",{type:"submit",onClick:E(f,["prevent"]),disabled:s(l).processing,class:"inline-flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-gray-800 bg-white border border-gray-200 shadow-sm -ms-px first:rounded-s-lg first:ms-0 rounded-s-lg rounded-e-lg focus:z-10 hover:bg-gray-50 focus:outline-none focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-white dark:hover:bg-neutral-800 dark:focus:bg-neutral-800"},[r(s(F),{stroke:"2.5",size:"16"}),t("span",null,g(o.customer.cid?"Update":"Create"),1),s(l).processing?(c(),j(N,{key:0})):U("",!0)],8,L),r(s(S),{as:"button",href:e.route("auth.customer.index"),class:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-800 border border-transparent rounded-lg hover:bg-gray-100 focus:outline-none focus:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-neutral-700 dark:focus:bg-neutral-700"},{default:x(()=>[C(" Cancel ")]),_:1},8,["href"])]),_:1}),t("article",O,[t("form",R,[W,t("section",X,[t("div",null,[Y,r(s(u),{id:"name",type:"text",modelValue:s(l).first_name,"onUpdate:modelValue":a[0]||(a[0]=n=>s(l).first_name=n),placeholder:"Enter first name","rounded-size":"md",size:"lg",block:""},null,8,["modelValue"]),r(i,{message:e.$page.props.errors.first_name},null,8,["message"])]),t("div",null,[ee,r(s(u),{type:"text",id:"last_name",modelValue:s(l).last_name,"onUpdate:modelValue":a[1]||(a[1]=n=>s(l).last_name=n),placeholder:"Type surname","rounded-size":"md",size:"lg",block:""},null,8,["modelValue"]),r(i,{message:e.$page.props.errors.last_name},null,8,["message"])])]),t("section",se,[t("div",null,[te,r(s(u),{type:"text",id:"company_name",modelValue:s(l).company_name,"onUpdate:modelValue":a[2]||(a[2]=n=>s(l).company_name=n),placeholder:"Type company name","rounded-size":"md",size:"lg",block:""},null,8,["modelValue"]),r(i,{message:e.$page.props.errors.company_name},null,8,["message"])]),t("div",null,[oe,r(s(u),{type:"text",id:"job_title",modelValue:s(l).job_title,"onUpdate:modelValue":a[3]||(a[3]=n=>s(l).job_title=n),placeholder:"Enter job title","rounded-size":"md",size:"lg",block:""},null,8,["modelValue"]),r(i,{message:e.$page.props.errors.job_title},null,8,["message"])]),t("div",le,[r(Z,{modelValue:s(l).address,"onUpdate:modelValue":a[4]||(a[4]=n=>s(l).address=n)},null,8,["modelValue"])])])])])],64))}});export{_e as default};
